create table CLIENTE(
NOME VARCHAR (100) NOT NULL,
EMAIL VARCHAR (100) NOT NULL,
CPF VARCHAR(11) NOT NULL,
TELEFONE VARCHAR(11) NOT NULL,
CONSTRAINT CLIENTE_PK PRIMARY KEY (CPF)
ENABLE
);


--DROP TABLE material;

create table FUNCIONARIO(
CODIGO INT NOT NULL,
NOME VARCHAR (100) NOT NULL,
EMAIL VARCHAR (100) NOT NULL,
TELEFONE LONG NOT NULL,
SENHA VARCHAR(10) NOT NULL,
CONSTRAINT FUNCIONARIO_PK PRIMARY KEY(CODIGO)
ENABLE
);

create table MATERIAL(
ID INT NOT NULL,
CODIGO VARCHAR (10),
DESCRICAO VARCHAR (100),
CLASSE VARCHAR (30),
VALORUNITARIO FLOAT,
CONSTRAINT MATERIAL_PK PRIMARY KEY (ID)
ENABLE
);

CREATE TABLE VEICULO 
(PLACA VARCHAR (8) NOT NULL,
FABRICANTE VARCHAR(20) NOT NULL,
COR VARCHAR(10) NOT NULL,
TIPO VARCHAR2(20) NOT NULL,
MODELO VARCHAR(20) NOT NULL,
ANO INT NOT NULL,
ID_CLIENTE VARCHAR (11) NOT NULL,
CONSTRAINT VEICULO_PK PRIMARY KEY(PLACA) ENABLE);

ALTER TABLE VEICULO
ADD FOREIGN KEY (ID_CLIENTE) 
REFERENCES CLIENTE(CPF);

--ALTER TABLE VEICULO ADD FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE(CPF);

CREATE TABLE ORDEMSERVICO
(ID INT NOT NULL,
DATAENTRADA DATE NOT NULL,
DATAINICIO DATE NOT NULL,
DATAFIM DATE NOT NULL,
STATUS VARCHAR(15) NOT NULL,
QUILOMETRAGEM INT NOT NULL,
VALORMAODEOBRA FLOAT NOT NULL,
VALORTOTAL FLOAT NOT NULL,
VALIDADE INT NOT NULL,
OBS VARCHAR (256),
ID_VEICULO VARCHAR2(8) NOT NULL,
ID_FUNCIONARIO INT NOT NULL,
CONSTRAINT ORDEMSERVICO_PK PRIMARY KEY (ID),
FOREIGN KEY (ID_VEICULO) 
REFERENCES VEICULO(PLACA),
FOREIGN KEY (ID_FUNCIONARIO) 
REFERENCES FUNCIONARIO(CODIGO));


CREATE TABLE ITEMSERVICO
(ID INT NOT NULL,
ID_ORDEMSERVICO INT NOT NULL,
ID_MATERIAL INT NOT NULL,
CONSTRAINT ITEMSERVICO_PK PRIMARY KEY (ID),
FOREIGN KEY (ID_ORDEMSERVICO) 
REFERENCES ORDEMSERVICO(ID),
FOREIGN KEY (ID_MATERIAL) 
REFERENCES MATERIAL(ID));

--DROP TABLE VEICULO;

CREATE SEQUENCE S_MATERIAL INCREMENT BY 1 START WITH 1 NOCACHE NOCYCLE;
CREATE SEQUENCE S_ORDEMSERVICO INCREMENT BY 1 START WITH 1 NOCACHE NOCYCLE;
CREATE SEQUENCE S_ITEMSERVICO INCREMENT BY 1 START WITH 1 NOCACHE NOCYCLE;